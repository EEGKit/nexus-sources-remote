version: "3.7"

services:

  nexus-main:
    container_name: nexus-main
    image: mcr.microsoft.com/dotnet/sdk:6.0
    volumes:
      - /var/lib/nexus/docker/nexus-main/.ssh:/root/.ssh
    entrypoint: bash -c "cd; curl -s -O 'https://raw.githubusercontent.com/Nexusforge/nexus-sources-remote/main/setup/docker/python/setup-main.sh'; source 'setup-test.sh'"
    restart: always

  nexus-python:
    container_name: nexus-python
    image: python:3.9.0
    volumes:
      - /var/lib/nexus/docker/nexus-python/.ssh:/root/.ssh
    entrypoint: bash -c "cd; curl -s -O 'https://raw.githubusercontent.com/Nexusforge/nexus-sources-remote/main/setup/docker/python/setup-python.sh'; source 'setup-python.sh'"
    restart: always
